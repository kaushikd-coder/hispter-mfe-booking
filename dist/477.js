"use strict";(self.webpackChunkbookingApp=self.webpackChunkbookingApp||[]).push([[335,477,860],{171:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ UserBookingWithStore)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(848);\n/* harmony import */ var _booking_UserBooking__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78);\n\n\nfunction UserBookingWithStore() {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_booking_UserBooking__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A, {}));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcxLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNBO0FBQ2pDO0FBQ2YsWUFBWSxzREFBSSxDQUFDLHFFQUFXLElBQUk7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ib29raW5nQXBwLy4vc3JjL1VzZXJCb29raW5nV2l0aFN0b3JlLnRzeD83N2Y0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgVXNlckJvb2tpbmcgZnJvbSBcIi4vYm9va2luZy9Vc2VyQm9va2luZ1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXNlckJvb2tpbmdXaXRoU3RvcmUoKSB7XG4gICAgcmV0dXJuIChfanN4KFVzZXJCb29raW5nLCB7fSkpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///171\n\n}')},335:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ useSession)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(318);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useSession() {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {\n        try {\n            return JSON.parse(localStorage.getItem("authUser") || "null");\n        }\n        catch {\n            return null;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n        const onLogin = (e) => setUser(e.detail);\n        const onLogout = () => setUser(null);\n        window.addEventListener("auth:login", onLogin);\n        window.addEventListener("auth:logout", onLogout);\n        return () => {\n            window.removeEventListener("auth:login", onLogin);\n            window.removeEventListener("auth:logout", onLogout);\n        };\n    }, []);\n    return user;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUM3QjtBQUNmLDRCQUE0QiwrQ0FBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jvb2tpbmdBcHAvLi9zcmMvYm9va2luZy91c2VTZXNzaW9uLnRzP2VkMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlU2Vzc2lvbigpIHtcbiAgICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhVc2VyXCIpIHx8IFwibnVsbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9uTG9naW4gPSAoZSkgPT4gc2V0VXNlcihlLmRldGFpbCk7XG4gICAgICAgIGNvbnN0IG9uTG9nb3V0ID0gKCkgPT4gc2V0VXNlcihudWxsKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJhdXRoOmxvZ2luXCIsIG9uTG9naW4pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImF1dGg6bG9nb3V0XCIsIG9uTG9nb3V0KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXV0aDpsb2dpblwiLCBvbkxvZ2luKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXV0aDpsb2dvdXRcIiwgb25Mb2dvdXQpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gdXNlcjtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///335\n\n}')},541:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(848);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(318);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(676);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _useSession__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(335);\n/* harmony import */ var _store_bookingsSlice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(860);\n/* harmony import */ var _store_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(498);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(868);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nconst PAGE_SIZE = 5;\nconst statusClass = {\n    Approved: "bg-emerald-500/15 text-emerald-200 ring-1 ring-emerald-400/20",\n    Pending: "bg-amber-500/15 text-amber-200 ring-1 ring-amber-400/20",\n    Cancelled: "bg-rose-500/15 text-rose-200 ring-1 ring-rose-400/20",\n    default: "bg-white/10 text-white/80 ring-1 ring-white/10",\n};\n// icons\nconst Check = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 20 20", className: "h-4 w-4", fill: "currentColor", "aria-hidden": "true", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M7.5 13.5 4.5 10.5 3 12l4.5 4.5L17 7l-1.5-1.5z" }) }));\nconst Chevron = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 20 20", className: "h-4 w-4 opacity-80", fill: "currentColor", "aria-hidden": "true", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M5.8 7.5 10 11.7l4.2-4.2 1.3 1.3-5.5 5.5-5.5-5.5z" }) }));\n/** ---------- Portal helpers ---------- */\nfunction useIsomorphicLayoutEffect(fn, deps) {\n    const useLE = typeof window !== "undefined" ? (react__WEBPACK_IMPORTED_MODULE_1___default().useLayoutEffect) : (react__WEBPACK_IMPORTED_MODULE_1___default().useEffect);\n    useLE(fn, deps);\n}\nfunction MenuPortal({ children }) {\n    if (typeof document === "undefined")\n        return null;\n    return (0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(children, document.body);\n}\n/** ---------- Status dropdown with portal ---------- */\nconst StatusMenu = ({ value, onChange, disabled }) => {\n    const [open, setOpen] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(false);\n    const [activeIdx, setActiveIdx] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(0);\n    const btnRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n    const options = ["Pending", "Approved", "Cancelled"];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        setActiveIdx(Math.max(0, options.findIndex((o) => o === value)));\n    }, [value]);\n    // keyboard interactions\n    function handleKey(e) {\n        if (!open) {\n            if (e.key === "Enter" || e.key === " ") {\n                e.preventDefault();\n                setOpen(true);\n            }\n            return;\n        }\n        if (e.key === "Escape") {\n            setOpen(false);\n            btnRef.current?.focus();\n        }\n        if (e.key === "ArrowDown") {\n            e.preventDefault();\n            setActiveIdx((i) => Math.min(options.length - 1, i + 1));\n        }\n        if (e.key === "ArrowUp") {\n            e.preventDefault();\n            setActiveIdx((i) => Math.max(0, i - 1));\n        }\n        if (e.key === "Enter") {\n            e.preventDefault();\n            const sel = options[activeIdx];\n            if (sel && sel !== value)\n                onChange(sel);\n            setOpen(false);\n            btnRef.current?.focus();\n        }\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "relative inline-block text-left", onKeyDown: handleKey, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { ref: btnRef, type: "button", disabled: disabled, onClick: () => setOpen((o) => !o), className: "inline-flex items-center gap-2 rounded-lg px-2.5 py-1.5 text-xs font-semibold\\r\\n                   border border-white/15 bg-white/5 hover:bg-white/10 text-white/90 transition\\r\\n                   disabled:opacity-50 disabled:cursor-not-allowed", "aria-haspopup": "menu", "aria-expanded": open, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: `inline-flex items-center gap-2 rounded-md px-2 py-0.5 ring-1 text-xs font-medium\r\n                      ${statusClass[value] ?? statusClass.default}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "h-1.5 w-1.5 rounded-full bg-current/80" }), value] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Chevron, {})] }), open && btnRef.current && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AnchoredMenu, { anchor: btnRef.current, value: value, options: options, activeIdx: activeIdx, setActiveIdx: setActiveIdx, onSelect: (opt) => {\n                    if (opt !== value)\n                        onChange(opt);\n                    setOpen(false);\n                }, onClose: () => setOpen(false) }))] }));\n};\nfunction AnchoredMenu({ anchor, value, options, activeIdx, setActiveIdx, onSelect, onClose, }) {\n    const menuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n    const [pos, setPos] = react__WEBPACK_IMPORTED_MODULE_1___default().useState({\n        top: 0,\n        left: 0,\n        width: 176,\n        openUp: false,\n    });\n    // place near anchor (right-aligned), flip if needed\n    const place = react__WEBPACK_IMPORTED_MODULE_1___default().useCallback(() => {\n        const r = anchor.getBoundingClientRect();\n        const width = 176; // w-44\n        const margin = 8;\n        // initial: open downward\n        let top = r.bottom + margin;\n        let left = r.right - width;\n        // clamp left within viewport\n        left = Math.max(8, Math.min(left, window.innerWidth - width - 8));\n        // if not enough space below, flip upward (after measuring menu height)\n        let openUp = false;\n        const menuH = menuRef.current?.offsetHeight ?? 0;\n        if (window.innerHeight - r.bottom < (menuH || 160) + margin) {\n            openUp = true;\n            top = r.top - margin - (menuH || 160);\n        }\n        setPos({ top, left, width, openUp });\n    }, [anchor]);\n    useIsomorphicLayoutEffect(() => {\n        place();\n    }, [place]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const onDocClick = (e) => {\n            const t = e.target;\n            if (menuRef.current?.contains(t) || anchor.contains(t))\n                return;\n            onClose();\n        };\n        const onKey = (e) => e.key === "Escape" && onClose();\n        const onScroll = () => place();\n        const onResize = () => place();\n        document.addEventListener("mousedown", onDocClick);\n        document.addEventListener("keydown", onKey);\n        window.addEventListener("scroll", onScroll, true);\n        window.addEventListener("resize", onResize);\n        return () => {\n            document.removeEventListener("mousedown", onDocClick);\n            document.removeEventListener("keydown", onKey);\n            window.removeEventListener("scroll", onScroll, true);\n            window.removeEventListener("resize", onResize);\n        };\n    }, [anchor, onClose, place]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuPortal, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: menuRef, className: "fixed z-50 overflow-hidden rounded-lg border border-white/10 bg-emerald-950/95 shadow-2xl backdrop-blur", style: { top: pos.top, left: pos.left, width: pos.width }, onClick: (e) => e.stopPropagation(), children: options.map((opt, idx) => {\n                const isActive = idx === activeIdx;\n                const isSelected = opt === value;\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { role: "menuitem", className: `flex w-full items-center justify-between gap-2 px-3 py-2 text-xs text-white/90 ${isActive ? "bg-white/10" : "hover:bg-white/10"}`, onMouseEnter: () => setActiveIdx(idx), onClick: () => onSelect(opt), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: opt }), isSelected && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-emerald-300", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Check, {}) }))] }, opt));\n            }) }) }));\n}\n/** ---------- Booking list ---------- */\nconst BookingList = () => {\n    const sessionUser = (0,_useSession__WEBPACK_IMPORTED_MODULE_3__["default"])();\n    const dispatch = (0,_store_hooks__WEBPACK_IMPORTED_MODULE_5__/* .useAppDispatch */ .j)();\n    const all = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((s) => s.bookings?.all ?? []);\n    // Selector that adapts to current user visibility\n    const selectVisible = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (0,_store_bookingsSlice__WEBPACK_IMPORTED_MODULE_4__.makeSelectVisibleBookings)(sessionUser ?? undefined), [sessionUser]);\n    // const rows = useAppSelector(selectVisible);\n    const user = (0,_useSession__WEBPACK_IMPORTED_MODULE_3__["default"])();\n    const userBookings = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__.useSelector)((s) => s.bookings?.all ?? []);\n    const rows = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (!user?.email)\n            return [];\n        // ðŸ‘‡ Admin can see all bookings\n        if (user.email === "admin@example.com") {\n            return userBookings;\n        }\n        // ðŸ‘‡ Regular users only see their own\n        return userBookings.filter((b) => b.user?.email === user.email);\n    }, [userBookings, user]);\n    console.log({ rows });\n    const changeStatus = (id, status) => dispatch((0,_store_bookingsSlice__WEBPACK_IMPORTED_MODULE_4__.updateBookingStatus)({ id, status }));\n    // Guard for non-admins\n    const visible = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (!user)\n            return [];\n        // treat either role or hardcoded email as admin\n        const isAdmin = user.role === "Admin" || user.email === "admin@example.com";\n        if (isAdmin)\n            return userBookings;\n        const myEmail = (user.email ?? "").toLowerCase();\n        return userBookings.filter((b) => (b.user?.email ?? "").toLowerCase() === myEmail);\n    }, [userBookings, user]);\n    // Pagination\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const total = visible.length;\n    const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));\n    const startIdx = (page - 1) * PAGE_SIZE;\n    const endIdx = Math.min(startIdx + PAGE_SIZE, total);\n    const pageData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => visible.slice(startIdx, endIdx), [visible, startIdx, endIdx]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => { if (page > totalPages)\n        setPage(1); }, [totalPages, page]);\n    const cancel = (id) => dispatch((0,_store_bookingsSlice__WEBPACK_IMPORTED_MODULE_4__.cancelBooking)(id));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "w-full rounded-2xl py-4  ", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "text-lg sm:text-xl font-semibold text-white", children: "Your Bookings" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-xs sm:text-sm text-white/70", children: total === 0 ? "0 total" : `${startIdx + 1}-${endIdx} of ${total}` })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "overflow-hidden rounded-xl border border-white/10", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "sm:hidden divide-y divide-white/10", children: pageData.length > 0 ? (pageData.map((b) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "p-4 bg-black/10", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-start justify-between gap-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "min-w-0", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "text-base font-medium text-white", children: b.facility }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mt-1 text-xs text-white/80", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "inline-block mr-3", children: b.date }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "inline-block", children: b.slot })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mt-2 flex items-center gap-2 text-sm", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: `inline-flex items-center gap-2 rounded-lg px-2 py-0.5 text-xs font-medium\r\n                                ${statusClass[b.status] ?? statusClass.default}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "h-1.5 w-1.5 rounded-full bg-current/80" }), b.status] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-white/70", children: "\\u2022" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "inline-flex items-center gap-2 text-white/90", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "grid h-6 w-6 place-items-center rounded-full bg-white/10 text-[10px] text-white/80", children: (b.user?.name ?? "â€”").slice(0, 1).toUpperCase() }), b.user?.name ?? "â€”"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex shrink-0 gap-2", children: [sessionUser?.role !== "Admin" && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => cancel(b.id), disabled: b.status === "Cancelled", className: "rounded-md px-3 py-1.5 text-xs font-semibold text-white\\r\\n                               bg-rose-600/90 hover:bg-rose-600 disabled:opacity-50 disabled:cursor-not-allowed", children: "Cancel" })), sessionUser?.role === "Admin" && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StatusMenu, { value: b.status, onChange: (next) => changeStatus(b.id, next), disabled: b.status === "Cancelled" }))] })] }) }, b.id)))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "py-10 px-4 text-center text-white/70", children: "No bookings yet." })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hidden sm:block", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "overflow-x-auto", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("table", { className: "min-w-full text-sm", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead", { className: "sticky top-0 z-10 bg-emerald-900/60 backdrop-blur text-left text-white/80", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr", { className: "[&>th]:py-3 [&>th]:px-4", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: "w-[22%]", children: "Facility" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: "w-[16%]", children: "Date" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: "w-[16%]", children: "Slot" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: "w-[16%]", children: "Status" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: "w-[18%]", children: "Booked By" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: "w-[12%] text-right", children: "Actions" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tbody", { className: "divide-y divide-white/10", children: [pageData.map((b) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr", { className: "align-top transition hover:bg-white/5 even:bg-white/5/30", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "py-3 px-4 text-white", children: b.facility }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "py-3 px-4 text-white/90", children: b.date }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "py-3 px-4 text-white/90", children: b.slot }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "py-3 px-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: `inline-flex items-center gap-2 rounded-lg px-2.5 py-1 text-xs font-medium\r\n                                ${statusClass[b.status] ?? statusClass.default}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "h-1.5 w-1.5 rounded-full bg-current/80" }), b.status] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "py-3 px-4 text-white/90", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center gap-2", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "grid h-7 w-7 place-items-center rounded-full bg-white/10 text-xs text-white/80", children: (b.user?.name ?? "â€”").slice(0, 1).toUpperCase() }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: b.user?.name ?? "â€”" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "py-3 px-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex justify-end gap-2", children: [sessionUser?.role !== "Admin" && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => cancel(b.id), disabled: b.status === "Cancelled", className: "rounded-lg px-3 py-1.5 text-xs font-semibold text-white\\r\\n                                   bg-rose-600/90 hover:bg-rose-600 disabled:opacity-50 disabled:cursor-not-allowed", children: "Cancel" })), sessionUser?.role === "Admin" && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StatusMenu, { value: b.status, onChange: (next) => changeStatus(b.id, next), disabled: b.status === "Cancelled" }))] }) })] }, b.id))), total === 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { colSpan: 6, className: "py-10 px-4 text-center text-white/70", children: "No bookings yet." }) }))] })] }) }) }), total > PAGE_SIZE && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-t border-white/10 bg-emerald-950/40 px-3 sm:px-4 py-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hidden sm:block text-xs text-white/60", children: ["Showing ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-white/90", children: startIdx + 1 }), "\\u2013", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-white/90", children: endIdx }), " of", " ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-white/90", children: total })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center justify-end gap-1.5", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setPage((p) => Math.max(1, p - 1)), disabled: page === 1, className: "rounded-lg border border-white/15 bg-white/5 px-3 py-1.5 text-xs text-white/90 hover:bg-white/10 disabled:opacity-40", "aria-label": "Previous page", children: "\\u2039 Prev" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hidden xs:flex items-center gap-1", children: Array.from({ length: totalPages }, (_, i) => i + 1)\n                                            .slice(Math.max(0, Math.min(page - 3, totalPages - 5)), Math.max(5, Math.min(totalPages, page + 2)))\n                                            .map((p) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setPage(p), className: `h-8 w-8 rounded-md text-xs font-medium ${p === page\n                                                ? "bg-emerald-500 text-emerald-950"\n                                                : "border border-white/15 bg-white/5 text-white/90 hover:bg-white/10"}`, "aria-current": p === page ? "page" : undefined, children: p }, p))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "xs:hidden text-xs text-white/80", children: ["Page ", page, " / ", totalPages] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setPage((p) => Math.min(totalPages, p + 1)), disabled: page === totalPages, className: "rounded-lg border border-white/15 bg-white/5 px-3 py-1.5 text-xs text-white/90 hover:bg-white/10 disabled:opacity-40", "aria-label": "Next page", children: "Next \\u203A" })] })] }))] })] }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BookingList);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0RBQUksU0FBUyx3REFBd0QsR0FBRyxzREFBSSxTQUFTLHdEQUF3RCxHQUFHLHNEQUFJLFNBQVMsa0NBQWtDLHVEQUFLLFdBQVc7QUFDNTBFLGtDQUFrQyw2Q0FBNkMsY0FBYyxzREFBSSxXQUFXLHFEQUFxRCxjQUFjLEdBQUcsR0FBRyxzREFBSSxTQUFTLGdEQUFnRCx1REFBSyxVQUFVLGlEQUFpRCxzREFBSSxVQUFVLHdKQUF3SixHQUFHLHNEQUFJLFdBQVcsK0JBQStCLElBQUksR0FBRyxHQUFHLHNEQUFJLFNBQVMsa0NBQWtDLHVEQUFLLFVBQVUsa0ZBQWtGLHNEQUFJLGFBQWEsa1JBQWtSLHNDQUFzQyxzREFBSSxlQUFlLG1HQUFtRyxLQUFLLEdBQUcsSUFBSSwyQkFBMkIsc0RBQUksU0FBUyxVQUFVLHNEQUFJLFNBQVMsNkZBQTZGLEdBQUcsS0FBSyxJQUFJLEdBQUcsR0FBRyx5QkFBeUIsdURBQUssVUFBVSx5SkFBeUosdURBQUssVUFBVSwyRUFBMkUsc0RBQUksV0FBVyxvREFBb0QsYUFBYSxzREFBSSxXQUFXLDhDQUE4QyxlQUFlLHNEQUFJLFdBQVcsNkNBQTZDLElBQUksR0FBRyx1REFBSyxVQUFVLCtEQUErRCxzREFBSSxhQUFhLG9RQUFvUSxHQUFHLHNEQUFJLFVBQVUsdUVBQXVFLG9CQUFvQjtBQUNydUU7QUFDQSx5REFBeUQsc0RBQUksYUFBYSxnRkFBZ0Y7QUFDMUo7QUFDQSxzSEFBc0gsaUVBQWlFLFFBQVEsR0FBRyx1REFBSyxVQUFVLDRGQUE0RixHQUFHLHNEQUFJLGFBQWEsa1JBQWtSLElBQUksSUFBSSxLQUFLLElBQUk7QUFDcG1CO0FBQ0EsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYm9va2luZ0FwcC8uL3NyYy9ib29raW5nL0Jvb2tpbmdMaXN0LnRzeD9kNGU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHVzZVNlc3Npb24gZnJvbSBcIi4vdXNlU2Vzc2lvblwiO1xuaW1wb3J0IHsgY2FuY2VsQm9va2luZywgbWFrZVNlbGVjdFZpc2libGVCb29raW5ncywgdXBkYXRlQm9va2luZ1N0YXR1cywgfSBmcm9tIFwiLi4vc3RvcmUvYm9va2luZ3NTbGljZVwiO1xuaW1wb3J0IHsgdXNlQXBwRGlzcGF0Y2ggfSBmcm9tIFwiLi4vc3RvcmUvaG9va3NcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5jb25zdCBQQUdFX1NJWkUgPSA1O1xuY29uc3Qgc3RhdHVzQ2xhc3MgPSB7XG4gICAgQXBwcm92ZWQ6IFwiYmctZW1lcmFsZC01MDAvMTUgdGV4dC1lbWVyYWxkLTIwMCByaW5nLTEgcmluZy1lbWVyYWxkLTQwMC8yMFwiLFxuICAgIFBlbmRpbmc6IFwiYmctYW1iZXItNTAwLzE1IHRleHQtYW1iZXItMjAwIHJpbmctMSByaW5nLWFtYmVyLTQwMC8yMFwiLFxuICAgIENhbmNlbGxlZDogXCJiZy1yb3NlLTUwMC8xNSB0ZXh0LXJvc2UtMjAwIHJpbmctMSByaW5nLXJvc2UtNDAwLzIwXCIsXG4gICAgZGVmYXVsdDogXCJiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlLzgwIHJpbmctMSByaW5nLXdoaXRlLzEwXCIsXG59O1xuLy8gaWNvbnNcbmNvbnN0IENoZWNrID0gKCkgPT4gKF9qc3goXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiLCBjbGFzc05hbWU6IFwiaC00IHctNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCBjaGlsZHJlbjogX2pzeChcInBhdGhcIiwgeyBkOiBcIk03LjUgMTMuNSA0LjUgMTAuNSAzIDEybDQuNSA0LjVMMTcgN2wtMS41LTEuNXpcIiB9KSB9KSk7XG5jb25zdCBDaGV2cm9uID0gKCkgPT4gKF9qc3goXCJzdmdcIiwgeyB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiLCBjbGFzc05hbWU6IFwiaC00IHctNCBvcGFjaXR5LTgwXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGNoaWxkcmVuOiBfanN4KFwicGF0aFwiLCB7IGQ6IFwiTTUuOCA3LjUgMTAgMTEuN2w0LjItNC4yIDEuMyAxLjMtNS41IDUuNS01LjUtNS41elwiIH0pIH0pKTtcbi8qKiAtLS0tLS0tLS0tIFBvcnRhbCBoZWxwZXJzIC0tLS0tLS0tLS0gKi9cbmZ1bmN0aW9uIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZm4sIGRlcHMpIHtcbiAgICBjb25zdCB1c2VMRSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBSZWFjdC51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdC51c2VFZmZlY3Q7XG4gICAgdXNlTEUoZm4sIGRlcHMpO1xufVxuZnVuY3Rpb24gTWVudVBvcnRhbCh7IGNoaWxkcmVuIH0pIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBkb2N1bWVudC5ib2R5KTtcbn1cbi8qKiAtLS0tLS0tLS0tIFN0YXR1cyBkcm9wZG93biB3aXRoIHBvcnRhbCAtLS0tLS0tLS0tICovXG5jb25zdCBTdGF0dXNNZW51ID0gKHsgdmFsdWUsIG9uQ2hhbmdlLCBkaXNhYmxlZCB9KSA9PiB7XG4gICAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFthY3RpdmVJZHgsIHNldEFjdGl2ZUlkeF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBidG5SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IFtcIlBlbmRpbmdcIiwgXCJBcHByb3ZlZFwiLCBcIkNhbmNlbGxlZFwiXTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRBY3RpdmVJZHgoTWF0aC5tYXgoMCwgb3B0aW9ucy5maW5kSW5kZXgoKG8pID0+IG8gPT09IHZhbHVlKSkpO1xuICAgIH0sIFt2YWx1ZV0pO1xuICAgIC8vIGtleWJvYXJkIGludGVyYWN0aW9uc1xuICAgIGZ1bmN0aW9uIGhhbmRsZUtleShlKSB7XG4gICAgICAgIGlmICghb3Blbikge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNldE9wZW4odHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICBzZXRPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgIGJ0blJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2V0QWN0aXZlSWR4KChpKSA9PiBNYXRoLm1pbihvcHRpb25zLmxlbmd0aCAtIDEsIGkgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2V0QWN0aXZlSWR4KChpKSA9PiBNYXRoLm1heCgwLCBpIC0gMSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBzZWwgPSBvcHRpb25zW2FjdGl2ZUlkeF07XG4gICAgICAgICAgICBpZiAoc2VsICYmIHNlbCAhPT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoc2VsKTtcbiAgICAgICAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgYnRuUmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyZWxhdGl2ZSBpbmxpbmUtYmxvY2sgdGV4dC1sZWZ0XCIsIG9uS2V5RG93bjogaGFuZGxlS2V5LCBjaGlsZHJlbjogW19qc3hzKFwiYnV0dG9uXCIsIHsgcmVmOiBidG5SZWYsIHR5cGU6IFwiYnV0dG9uXCIsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DbGljazogKCkgPT4gc2V0T3BlbigobykgPT4gIW8pLCBjbGFzc05hbWU6IFwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHJvdW5kZWQtbGcgcHgtMi41IHB5LTEuNSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGRcXHJcXG4gICAgICAgICAgICAgICAgICAgYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy13aGl0ZS81IGhvdmVyOmJnLXdoaXRlLzEwIHRleHQtd2hpdGUvOTAgdHJhbnNpdGlvblxcclxcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiLCBcImFyaWEtaGFzcG9wdXBcIjogXCJtZW51XCIsIFwiYXJpYS1leHBhbmRlZFwiOiBvcGVuLCBjaGlsZHJlbjogW19qc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogYGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLW1kIHB4LTIgcHktMC41IHJpbmctMSB0ZXh0LXhzIGZvbnQtbWVkaXVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAke3N0YXR1c0NsYXNzW3ZhbHVlXSA/PyBzdGF0dXNDbGFzcy5kZWZhdWx0fWAsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiaC0xLjUgdy0xLjUgcm91bmRlZC1mdWxsIGJnLWN1cnJlbnQvODBcIiB9KSwgdmFsdWVdIH0pLCBfanN4KENoZXZyb24sIHt9KV0gfSksIG9wZW4gJiYgYnRuUmVmLmN1cnJlbnQgJiYgKF9qc3goQW5jaG9yZWRNZW51LCB7IGFuY2hvcjogYnRuUmVmLmN1cnJlbnQsIHZhbHVlOiB2YWx1ZSwgb3B0aW9uczogb3B0aW9ucywgYWN0aXZlSWR4OiBhY3RpdmVJZHgsIHNldEFjdGl2ZUlkeDogc2V0QWN0aXZlSWR4LCBvblNlbGVjdDogKG9wdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0ICE9PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKG9wdCk7XG4gICAgICAgICAgICAgICAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sIG9uQ2xvc2U6ICgpID0+IHNldE9wZW4oZmFsc2UpIH0pKV0gfSkpO1xufTtcbmZ1bmN0aW9uIEFuY2hvcmVkTWVudSh7IGFuY2hvciwgdmFsdWUsIG9wdGlvbnMsIGFjdGl2ZUlkeCwgc2V0QWN0aXZlSWR4LCBvblNlbGVjdCwgb25DbG9zZSwgfSkge1xuICAgIGNvbnN0IG1lbnVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW3Bvcywgc2V0UG9zXSA9IFJlYWN0LnVzZVN0YXRlKHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB3aWR0aDogMTc2LFxuICAgICAgICBvcGVuVXA6IGZhbHNlLFxuICAgIH0pO1xuICAgIC8vIHBsYWNlIG5lYXIgYW5jaG9yIChyaWdodC1hbGlnbmVkKSwgZmxpcCBpZiBuZWVkZWRcbiAgICBjb25zdCBwbGFjZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgciA9IGFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAxNzY7IC8vIHctNDRcbiAgICAgICAgY29uc3QgbWFyZ2luID0gODtcbiAgICAgICAgLy8gaW5pdGlhbDogb3BlbiBkb3dud2FyZFxuICAgICAgICBsZXQgdG9wID0gci5ib3R0b20gKyBtYXJnaW47XG4gICAgICAgIGxldCBsZWZ0ID0gci5yaWdodCAtIHdpZHRoO1xuICAgICAgICAvLyBjbGFtcCBsZWZ0IHdpdGhpbiB2aWV3cG9ydFxuICAgICAgICBsZWZ0ID0gTWF0aC5tYXgoOCwgTWF0aC5taW4obGVmdCwgd2luZG93LmlubmVyV2lkdGggLSB3aWR0aCAtIDgpKTtcbiAgICAgICAgLy8gaWYgbm90IGVub3VnaCBzcGFjZSBiZWxvdywgZmxpcCB1cHdhcmQgKGFmdGVyIG1lYXN1cmluZyBtZW51IGhlaWdodClcbiAgICAgICAgbGV0IG9wZW5VcCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBtZW51SCA9IG1lbnVSZWYuY3VycmVudD8ub2Zmc2V0SGVpZ2h0ID8/IDA7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgLSByLmJvdHRvbSA8IChtZW51SCB8fCAxNjApICsgbWFyZ2luKSB7XG4gICAgICAgICAgICBvcGVuVXAgPSB0cnVlO1xuICAgICAgICAgICAgdG9wID0gci50b3AgLSBtYXJnaW4gLSAobWVudUggfHwgMTYwKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRQb3MoeyB0b3AsIGxlZnQsIHdpZHRoLCBvcGVuVXAgfSk7XG4gICAgfSwgW2FuY2hvcl0pO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBwbGFjZSgpO1xuICAgIH0sIFtwbGFjZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9uRG9jQ2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKG1lbnVSZWYuY3VycmVudD8uY29udGFpbnModCkgfHwgYW5jaG9yLmNvbnRhaW5zKHQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25LZXkgPSAoZSkgPT4gZS5rZXkgPT09IFwiRXNjYXBlXCIgJiYgb25DbG9zZSgpO1xuICAgICAgICBjb25zdCBvblNjcm9sbCA9ICgpID0+IHBsYWNlKCk7XG4gICAgICAgIGNvbnN0IG9uUmVzaXplID0gKCkgPT4gcGxhY2UoKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbkRvY0NsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXkpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBvblNjcm9sbCwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIG9uUmVzaXplKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgb25Eb2NDbGljayk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBvblNjcm9sbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBvblJlc2l6ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW2FuY2hvciwgb25DbG9zZSwgcGxhY2VdKTtcbiAgICByZXR1cm4gKF9qc3goTWVudVBvcnRhbCwgeyBjaGlsZHJlbjogX2pzeChcImRpdlwiLCB7IHJlZjogbWVudVJlZiwgY2xhc3NOYW1lOiBcImZpeGVkIHotNTAgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci13aGl0ZS8xMCBiZy1lbWVyYWxkLTk1MC85NSBzaGFkb3ctMnhsIGJhY2tkcm9wLWJsdXJcIiwgc3R5bGU6IHsgdG9wOiBwb3MudG9wLCBsZWZ0OiBwb3MubGVmdCwgd2lkdGg6IHBvcy53aWR0aCB9LCBvbkNsaWNrOiAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSwgY2hpbGRyZW46IG9wdGlvbnMubWFwKChvcHQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaWR4ID09PSBhY3RpdmVJZHg7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IG9wdCA9PT0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImJ1dHRvblwiLCB7IHJvbGU6IFwibWVudWl0ZW1cIiwgY2xhc3NOYW1lOiBgZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBweC0zIHB5LTIgdGV4dC14cyB0ZXh0LXdoaXRlLzkwICR7aXNBY3RpdmUgPyBcImJnLXdoaXRlLzEwXCIgOiBcImhvdmVyOmJnLXdoaXRlLzEwXCJ9YCwgb25Nb3VzZUVudGVyOiAoKSA9PiBzZXRBY3RpdmVJZHgoaWR4KSwgb25DbGljazogKCkgPT4gb25TZWxlY3Qob3B0KSwgY2hpbGRyZW46IFtfanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBvcHQgfSksIGlzU2VsZWN0ZWQgJiYgKF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQtZW1lcmFsZC0zMDBcIiwgY2hpbGRyZW46IF9qc3goQ2hlY2ssIHt9KSB9KSldIH0sIG9wdCkpO1xuICAgICAgICAgICAgfSkgfSkgfSkpO1xufVxuLyoqIC0tLS0tLS0tLS0gQm9va2luZyBsaXN0IC0tLS0tLS0tLS0gKi9cbmNvbnN0IEJvb2tpbmdMaXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHNlc3Npb25Vc2VyID0gdXNlU2Vzc2lvbigpO1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwRGlzcGF0Y2goKTtcbiAgICBjb25zdCBhbGwgPSB1c2VTZWxlY3RvcigocykgPT4gcy5ib29raW5ncz8uYWxsID8/IFtdKTtcbiAgICAvLyBTZWxlY3RvciB0aGF0IGFkYXB0cyB0byBjdXJyZW50IHVzZXIgdmlzaWJpbGl0eVxuICAgIGNvbnN0IHNlbGVjdFZpc2libGUgPSB1c2VNZW1vKCgpID0+IG1ha2VTZWxlY3RWaXNpYmxlQm9va2luZ3Moc2Vzc2lvblVzZXIgPz8gdW5kZWZpbmVkKSwgW3Nlc3Npb25Vc2VyXSk7XG4gICAgLy8gY29uc3Qgcm93cyA9IHVzZUFwcFNlbGVjdG9yKHNlbGVjdFZpc2libGUpO1xuICAgIGNvbnN0IHVzZXIgPSB1c2VTZXNzaW9uKCk7XG4gICAgY29uc3QgdXNlckJvb2tpbmdzID0gdXNlU2VsZWN0b3IoKHMpID0+IHMuYm9va2luZ3M/LmFsbCA/PyBbXSk7XG4gICAgY29uc3Qgcm93cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIXVzZXI/LmVtYWlsKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAvLyDwn5GHIEFkbWluIGNhbiBzZWUgYWxsIGJvb2tpbmdzXG4gICAgICAgIGlmICh1c2VyLmVtYWlsID09PSBcImFkbWluQGV4YW1wbGUuY29tXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VyQm9va2luZ3M7XG4gICAgICAgIH1cbiAgICAgICAgLy8g8J+RhyBSZWd1bGFyIHVzZXJzIG9ubHkgc2VlIHRoZWlyIG93blxuICAgICAgICByZXR1cm4gdXNlckJvb2tpbmdzLmZpbHRlcigoYikgPT4gYi51c2VyPy5lbWFpbCA9PT0gdXNlci5lbWFpbCk7XG4gICAgfSwgW3VzZXJCb29raW5ncywgdXNlcl0pO1xuICAgIGNvbnNvbGUubG9nKHsgcm93cyB9KTtcbiAgICBjb25zdCBjaGFuZ2VTdGF0dXMgPSAoaWQsIHN0YXR1cykgPT4gZGlzcGF0Y2godXBkYXRlQm9va2luZ1N0YXR1cyh7IGlkLCBzdGF0dXMgfSkpO1xuICAgIC8vIEd1YXJkIGZvciBub24tYWRtaW5zXG4gICAgY29uc3QgdmlzaWJsZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIC8vIHRyZWF0IGVpdGhlciByb2xlIG9yIGhhcmRjb2RlZCBlbWFpbCBhcyBhZG1pblxuICAgICAgICBjb25zdCBpc0FkbWluID0gdXNlci5yb2xlID09PSBcIkFkbWluXCIgfHwgdXNlci5lbWFpbCA9PT0gXCJhZG1pbkBleGFtcGxlLmNvbVwiO1xuICAgICAgICBpZiAoaXNBZG1pbilcbiAgICAgICAgICAgIHJldHVybiB1c2VyQm9va2luZ3M7XG4gICAgICAgIGNvbnN0IG15RW1haWwgPSAodXNlci5lbWFpbCA/PyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gdXNlckJvb2tpbmdzLmZpbHRlcigoYikgPT4gKGIudXNlcj8uZW1haWwgPz8gXCJcIikudG9Mb3dlckNhc2UoKSA9PT0gbXlFbWFpbCk7XG4gICAgfSwgW3VzZXJCb29raW5ncywgdXNlcl0pO1xuICAgIC8vIFBhZ2luYXRpb25cbiAgICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgICBjb25zdCB0b3RhbCA9IHZpc2libGUubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwodG90YWwgLyBQQUdFX1NJWkUpKTtcbiAgICBjb25zdCBzdGFydElkeCA9IChwYWdlIC0gMSkgKiBQQUdFX1NJWkU7XG4gICAgY29uc3QgZW5kSWR4ID0gTWF0aC5taW4oc3RhcnRJZHggKyBQQUdFX1NJWkUsIHRvdGFsKTtcbiAgICBjb25zdCBwYWdlRGF0YSA9IHVzZU1lbW8oKCkgPT4gdmlzaWJsZS5zbGljZShzdGFydElkeCwgZW5kSWR4KSwgW3Zpc2libGUsIHN0YXJ0SWR4LCBlbmRJZHhdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4geyBpZiAocGFnZSA+IHRvdGFsUGFnZXMpXG4gICAgICAgIHNldFBhZ2UoMSk7IH0sIFt0b3RhbFBhZ2VzLCBwYWdlXSk7XG4gICAgY29uc3QgY2FuY2VsID0gKGlkKSA9PiBkaXNwYXRjaChjYW5jZWxCb29raW5nKGlkKSk7XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ3LWZ1bGwgcm91bmRlZC0yeGwgcHktNCAgXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWItNCBmbGV4IGZsZXgtY29sIGdhcC0yIHNtOmZsZXgtcm93IHNtOml0ZW1zLWNlbnRlciBzbTpqdXN0aWZ5LWJldHdlZW5cIiwgY2hpbGRyZW46IFtfanN4KFwiaDJcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1sZyBzbTp0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiLCBjaGlsZHJlbjogXCJZb3VyIEJvb2tpbmdzXCIgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInRleHQteHMgc206dGV4dC1zbSB0ZXh0LXdoaXRlLzcwXCIsIGNoaWxkcmVuOiB0b3RhbCA9PT0gMCA/IFwiMCB0b3RhbFwiIDogYCR7c3RhcnRJZHggKyAxfS0ke2VuZElkeH0gb2YgJHt0b3RhbH1gIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwib3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic206aGlkZGVuIGRpdmlkZS15IGRpdmlkZS13aGl0ZS8xMFwiLCBjaGlsZHJlbjogcGFnZURhdGEubGVuZ3RoID4gMCA/IChwYWdlRGF0YS5tYXAoKGIpID0+IChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInAtNCBiZy1ibGFjay8xMFwiLCBjaGlsZHJlbjogX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtaW4tdy0wXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWJhc2UgZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiLCBjaGlsZHJlbjogYi5mYWNpbGl0eSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibXQtMSB0ZXh0LXhzIHRleHQtd2hpdGUvODBcIiwgY2hpbGRyZW46IFtfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJpbmxpbmUtYmxvY2sgbXItM1wiLCBjaGlsZHJlbjogYi5kYXRlIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJpbmxpbmUtYmxvY2tcIiwgY2hpbGRyZW46IGIuc2xvdCB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm10LTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbVwiLCBjaGlsZHJlbjogW19qc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogYGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWxnIHB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3N0YXR1c0NsYXNzW2Iuc3RhdHVzXSA/PyBzdGF0dXNDbGFzcy5kZWZhdWx0fWAsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiaC0xLjUgdy0xLjUgcm91bmRlZC1mdWxsIGJnLWN1cnJlbnQvODBcIiB9KSwgYi5zdGF0dXNdIH0pLCBfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXdoaXRlLzcwXCIsIGNoaWxkcmVuOiBcIlxcdTIwMjJcIiB9KSwgX2pzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXdoaXRlLzkwXCIsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiZ3JpZCBoLTYgdy02IHBsYWNlLWl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgYmctd2hpdGUvMTAgdGV4dC1bMTBweF0gdGV4dC13aGl0ZS84MFwiLCBjaGlsZHJlbjogKGIudXNlcj8ubmFtZSA/PyBcIuKAlFwiKS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpIH0pLCBiLnVzZXI/Lm5hbWUgPz8gXCLigJRcIl0gfSldIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBzaHJpbmstMCBnYXAtMlwiLCBjaGlsZHJlbjogW3Nlc3Npb25Vc2VyPy5yb2xlICE9PSBcIkFkbWluXCIgJiYgKF9qc3goXCJidXR0b25cIiwgeyBvbkNsaWNrOiAoKSA9PiBjYW5jZWwoYi5pZCksIGRpc2FibGVkOiBiLnN0YXR1cyA9PT0gXCJDYW5jZWxsZWRcIiwgY2xhc3NOYW1lOiBcInJvdW5kZWQtbWQgcHgtMyBweS0xLjUgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmctcm9zZS02MDAvOTAgaG92ZXI6Ymctcm9zZS02MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIiwgY2hpbGRyZW46IFwiQ2FuY2VsXCIgfSkpLCBzZXNzaW9uVXNlcj8ucm9sZSA9PT0gXCJBZG1pblwiICYmIChfanN4KFN0YXR1c01lbnUsIHsgdmFsdWU6IGIuc3RhdHVzLCBvbkNoYW5nZTogKG5leHQpID0+IGNoYW5nZVN0YXR1cyhiLmlkLCBuZXh0KSwgZGlzYWJsZWQ6IGIuc3RhdHVzID09PSBcIkNhbmNlbGxlZFwiIH0pKV0gfSldIH0pIH0sIGIuaWQpKSkpIDogKF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicHktMTAgcHgtNCB0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlLzcwXCIsIGNoaWxkcmVuOiBcIk5vIGJvb2tpbmdzIHlldC5cIiB9KSkgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaGlkZGVuIHNtOmJsb2NrXCIsIGNoaWxkcmVuOiBfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm92ZXJmbG93LXgtYXV0b1wiLCBjaGlsZHJlbjogX2pzeHMoXCJ0YWJsZVwiLCB7IGNsYXNzTmFtZTogXCJtaW4tdy1mdWxsIHRleHQtc21cIiwgY2hpbGRyZW46IFtfanN4KFwidGhlYWRcIiwgeyBjbGFzc05hbWU6IFwic3RpY2t5IHRvcC0wIHotMTAgYmctZW1lcmFsZC05MDAvNjAgYmFja2Ryb3AtYmx1ciB0ZXh0LWxlZnQgdGV4dC13aGl0ZS84MFwiLCBjaGlsZHJlbjogX2pzeHMoXCJ0clwiLCB7IGNsYXNzTmFtZTogXCJbJj50aF06cHktMyBbJj50aF06cHgtNFwiLCBjaGlsZHJlbjogW19qc3goXCJ0aFwiLCB7IGNsYXNzTmFtZTogXCJ3LVsyMiVdXCIsIGNoaWxkcmVuOiBcIkZhY2lsaXR5XCIgfSksIF9qc3goXCJ0aFwiLCB7IGNsYXNzTmFtZTogXCJ3LVsxNiVdXCIsIGNoaWxkcmVuOiBcIkRhdGVcIiB9KSwgX2pzeChcInRoXCIsIHsgY2xhc3NOYW1lOiBcInctWzE2JV1cIiwgY2hpbGRyZW46IFwiU2xvdFwiIH0pLCBfanN4KFwidGhcIiwgeyBjbGFzc05hbWU6IFwidy1bMTYlXVwiLCBjaGlsZHJlbjogXCJTdGF0dXNcIiB9KSwgX2pzeChcInRoXCIsIHsgY2xhc3NOYW1lOiBcInctWzE4JV1cIiwgY2hpbGRyZW46IFwiQm9va2VkIEJ5XCIgfSksIF9qc3goXCJ0aFwiLCB7IGNsYXNzTmFtZTogXCJ3LVsxMiVdIHRleHQtcmlnaHRcIiwgY2hpbGRyZW46IFwiQWN0aW9uc1wiIH0pXSB9KSB9KSwgX2pzeHMoXCJ0Ym9keVwiLCB7IGNsYXNzTmFtZTogXCJkaXZpZGUteSBkaXZpZGUtd2hpdGUvMTBcIiwgY2hpbGRyZW46IFtwYWdlRGF0YS5tYXAoKGIpID0+IChfanN4cyhcInRyXCIsIHsgY2xhc3NOYW1lOiBcImFsaWduLXRvcCB0cmFuc2l0aW9uIGhvdmVyOmJnLXdoaXRlLzUgZXZlbjpiZy13aGl0ZS81LzMwXCIsIGNoaWxkcmVuOiBbX2pzeChcInRkXCIsIHsgY2xhc3NOYW1lOiBcInB5LTMgcHgtNCB0ZXh0LXdoaXRlXCIsIGNoaWxkcmVuOiBiLmZhY2lsaXR5IH0pLCBfanN4KFwidGRcIiwgeyBjbGFzc05hbWU6IFwicHktMyBweC00IHRleHQtd2hpdGUvOTBcIiwgY2hpbGRyZW46IGIuZGF0ZSB9KSwgX2pzeChcInRkXCIsIHsgY2xhc3NOYW1lOiBcInB5LTMgcHgtNCB0ZXh0LXdoaXRlLzkwXCIsIGNoaWxkcmVuOiBiLnNsb3QgfSksIF9qc3goXCJ0ZFwiLCB7IGNsYXNzTmFtZTogXCJweS0zIHB4LTRcIiwgY2hpbGRyZW46IF9qc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogYGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLWxnIHB4LTIuNSBweS0xIHRleHQteHMgZm9udC1tZWRpdW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3N0YXR1c0NsYXNzW2Iuc3RhdHVzXSA/PyBzdGF0dXNDbGFzcy5kZWZhdWx0fWAsIGNoaWxkcmVuOiBbX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiaC0xLjUgdy0xLjUgcm91bmRlZC1mdWxsIGJnLWN1cnJlbnQvODBcIiB9KSwgYi5zdGF0dXNdIH0pIH0pLCBfanN4KFwidGRcIiwgeyBjbGFzc05hbWU6IFwicHktMyBweC00IHRleHQtd2hpdGUvOTBcIiwgY2hpbGRyZW46IF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCIsIGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJncmlkIGgtNyB3LTcgcGxhY2UtaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMCB0ZXh0LXhzIHRleHQtd2hpdGUvODBcIiwgY2hpbGRyZW46IChiLnVzZXI/Lm5hbWUgPz8gXCLigJRcIikuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSB9KSwgX2pzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogYi51c2VyPy5uYW1lID8/IFwi4oCUXCIgfSldIH0pIH0pLCBfanN4KFwidGRcIiwgeyBjbGFzc05hbWU6IFwicHktMyBweC00XCIsIGNoaWxkcmVuOiBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGp1c3RpZnktZW5kIGdhcC0yXCIsIGNoaWxkcmVuOiBbc2Vzc2lvblVzZXI/LnJvbGUgIT09IFwiQWRtaW5cIiAmJiAoX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IGNhbmNlbChiLmlkKSwgZGlzYWJsZWQ6IGIuc3RhdHVzID09PSBcIkNhbmNlbGxlZFwiLCBjbGFzc05hbWU6IFwicm91bmRlZC1sZyBweC0zIHB5LTEuNSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmctcm9zZS02MDAvOTAgaG92ZXI6Ymctcm9zZS02MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIiwgY2hpbGRyZW46IFwiQ2FuY2VsXCIgfSkpLCBzZXNzaW9uVXNlcj8ucm9sZSA9PT0gXCJBZG1pblwiICYmIChfanN4KFN0YXR1c01lbnUsIHsgdmFsdWU6IGIuc3RhdHVzLCBvbkNoYW5nZTogKG5leHQpID0+IGNoYW5nZVN0YXR1cyhiLmlkLCBuZXh0KSwgZGlzYWJsZWQ6IGIuc3RhdHVzID09PSBcIkNhbmNlbGxlZFwiIH0pKV0gfSkgfSldIH0sIGIuaWQpKSksIHRvdGFsID09PSAwICYmIChfanN4KFwidHJcIiwgeyBjaGlsZHJlbjogX2pzeChcInRkXCIsIHsgY29sU3BhbjogNiwgY2xhc3NOYW1lOiBcInB5LTEwIHB4LTQgdGV4dC1jZW50ZXIgdGV4dC13aGl0ZS83MFwiLCBjaGlsZHJlbjogXCJObyBib29raW5ncyB5ZXQuXCIgfSkgfSkpXSB9KV0gfSkgfSkgfSksIHRvdGFsID4gUEFHRV9TSVpFICYmIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtY29sIGdhcC0zIHNtOmZsZXgtcm93IHNtOml0ZW1zLWNlbnRlciBzbTpqdXN0aWZ5LWJldHdlZW4gYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwIGJnLWVtZXJhbGQtOTUwLzQwIHB4LTMgc206cHgtNCBweS0zXCIsIGNoaWxkcmVuOiBbX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaGlkZGVuIHNtOmJsb2NrIHRleHQteHMgdGV4dC13aGl0ZS82MFwiLCBjaGlsZHJlbjogW1wiU2hvd2luZyBcIiwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC13aGl0ZS85MFwiLCBjaGlsZHJlbjogc3RhcnRJZHggKyAxIH0pLCBcIlxcdTIwMTNcIiwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC13aGl0ZS85MFwiLCBjaGlsZHJlbjogZW5kSWR4IH0pLCBcIiBvZlwiLCBcIiBcIiwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC13aGl0ZS85MFwiLCBjaGlsZHJlbjogdG90YWwgfSldIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMS41XCIsIGNoaWxkcmVuOiBbX2pzeChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6ICgpID0+IHNldFBhZ2UoKHApID0+IE1hdGgubWF4KDEsIHAgLSAxKSksIGRpc2FibGVkOiBwYWdlID09PSAxLCBjbGFzc05hbWU6IFwicm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzE1IGJnLXdoaXRlLzUgcHgtMyBweS0xLjUgdGV4dC14cyB0ZXh0LXdoaXRlLzkwIGhvdmVyOmJnLXdoaXRlLzEwIGRpc2FibGVkOm9wYWNpdHktNDBcIiwgXCJhcmlhLWxhYmVsXCI6IFwiUHJldmlvdXMgcGFnZVwiLCBjaGlsZHJlbjogXCJcXHUyMDM5IFByZXZcIiB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJoaWRkZW4geHM6ZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIiwgY2hpbGRyZW46IEFycmF5LmZyb20oeyBsZW5ndGg6IHRvdGFsUGFnZXMgfSwgKF8sIGkpID0+IGkgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoTWF0aC5tYXgoMCwgTWF0aC5taW4ocGFnZSAtIDMsIHRvdGFsUGFnZXMgLSA1KSksIE1hdGgubWF4KDUsIE1hdGgubWluKHRvdGFsUGFnZXMsIHBhZ2UgKyAyKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHApID0+IChfanN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogKCkgPT4gc2V0UGFnZShwKSwgY2xhc3NOYW1lOiBgaC04IHctOCByb3VuZGVkLW1kIHRleHQteHMgZm9udC1tZWRpdW0gJHtwID09PSBwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZW1lcmFsZC01MDAgdGV4dC1lbWVyYWxkLTk1MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyIGJvcmRlci13aGl0ZS8xNSBiZy13aGl0ZS81IHRleHQtd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUvMTBcIn1gLCBcImFyaWEtY3VycmVudFwiOiBwID09PSBwYWdlID8gXCJwYWdlXCIgOiB1bmRlZmluZWQsIGNoaWxkcmVuOiBwIH0sIHApKSkgfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInhzOmhpZGRlbiB0ZXh0LXhzIHRleHQtd2hpdGUvODBcIiwgY2hpbGRyZW46IFtcIlBhZ2UgXCIsIHBhZ2UsIFwiIC8gXCIsIHRvdGFsUGFnZXNdIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogKCkgPT4gc2V0UGFnZSgocCkgPT4gTWF0aC5taW4odG90YWxQYWdlcywgcCArIDEpKSwgZGlzYWJsZWQ6IHBhZ2UgPT09IHRvdGFsUGFnZXMsIGNsYXNzTmFtZTogXCJyb3VuZGVkLWxnIGJvcmRlciBib3JkZXItd2hpdGUvMTUgYmctd2hpdGUvNSBweC0zIHB5LTEuNSB0ZXh0LXhzIHRleHQtd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUvMTAgZGlzYWJsZWQ6b3BhY2l0eS00MFwiLCBcImFyaWEtbGFiZWxcIjogXCJOZXh0IHBhZ2VcIiwgY2hpbGRyZW46IFwiTmV4dCBcXHUyMDNBXCIgfSldIH0pXSB9KSldIH0pXSB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQm9va2luZ0xpc3Q7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///541\n\n}')},791:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(848);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(318);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(335);\n/* harmony import */ var _store_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(498);\n\n\n\n// import { useDispatch } from "react-redux"; // âŒ unused\n\nconst facilities = ["Conference Room A", "Conference Room B", "Auditorium", "Cafeteria"];\nconst defaultSlots = ["09:00â€“10:00", "10:00â€“11:00", "11:00â€“12:00", "14:00â€“15:00", "15:00â€“16:00"];\n// "2025-09-27" -> local YYYY-MM-DD of now\nfunction localYMD(d = new Date()) {\n    const y = d.getFullYear();\n    const m = String(d.getMonth() + 1).padStart(2, "0");\n    const day = String(d.getDate()).padStart(2, "0");\n    return `${y}-${m}-${day}`;\n}\n// "09:00â€“10:00" or "09:00-10:00" -> minutes since midnight for the START\nfunction slotStartMinutes(slot) {\n    const [start] = slot.split(/â€“|-/); // en-dash or hyphen\n    const [h, m] = start.split(":").map(Number);\n    return h * 60 + (m || 0);\n}\n// Return true if chosen slot is in the past for today\'s date\nfunction isPastSlotForToday(dateStr, slot) {\n    if (dateStr !== localYMD())\n        return false; // only care about today\n    const now = new Date();\n    const nowMin = now.getHours() * 60 + now.getMinutes();\n    return slotStartMinutes(slot) <= nowMin; // block slot that already started\n}\nconst BookingForm = ({ onCreate }) => {\n    const user = (0,_useSession__WEBPACK_IMPORTED_MODULE_2__["default"])();\n    const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        facility: facilities[0],\n        date: "",\n        slot: defaultSlots[0],\n        notes: "",\n    });\n    const [submitting, setSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toast, setToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const disabled = !user;\n    function update(key, val) {\n        setForm((f) => ({ ...f, [key]: val }));\n    }\n    // utils\n    const pad = (n) => String(n).padStart(2, "0");\n    const toInputDate = (d) => `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\n    const today = new Date();\n    const tomorrow = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);\n    const MIN_DATE_ALLOW_TODAY = toInputDate(today);\n    const MIN_DATE_AFTER_TODAY = toInputDate(tomorrow);\n    const allBookings = (0,_store_hooks__WEBPACK_IMPORTED_MODULE_3__/* .useAppSelector */ .G)((state) => state.bookings.all);\n    const dispatch = (0,_store_hooks__WEBPACK_IMPORTED_MODULE_3__/* .useAppDispatch */ .j)();\n    async function submit(e) {\n        e.preventDefault();\n        if (disabled || submitting)\n            return;\n        if (isPastSlotForToday(form.date, form.slot)) {\n            setToast({\n                type: "error",\n                msg: "Please choose a future time slot for today.",\n            });\n            setTimeout(() => setToast(null), 2000);\n            return;\n        }\n        // ðŸš¨ conflict detection\n        const conflict = allBookings.some((b) => b.date === form.date && b.slot === form.slot && b.status !== "Cancelled");\n        if (conflict) {\n            setToast({ type: "error", msg: "A booking already exists for this date and time slot." });\n            setTimeout(() => setToast(null), 2000);\n            return;\n        }\n        setSubmitting(true);\n        setToast(null);\n        try {\n            const booking = {\n                id: crypto.randomUUID(),\n                facility: form.facility,\n                date: form.date,\n                slot: form.slot,\n                notes: form.notes || undefined,\n                status: "Pending",\n                user: user ? { id: user.id, name: user.name, email: user.email } : undefined,\n                createdAt: new Date().toISOString(),\n            };\n            dispatch({ type: "bookings/addBooking", payload: booking });\n            onCreate?.(booking);\n            await new Promise((r) => setTimeout(r, 700));\n            setForm((f) => ({ ...f, notes: "" }));\n            setToast({ type: "success", msg: "Your booking has been submitted successfully." });\n        }\n        catch (err) {\n            setToast({ type: "error", msg: "Something went wrong. Please try again." });\n        }\n        finally {\n            setSubmitting(false);\n            setTimeout(() => setToast(null), 2000);\n        }\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "space-y-5", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "text-xl font-semibold text-white", children: "Create a Booking" }), !user && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "rounded-lg bg-amber-500/10 text-amber-200 px-3 py-2", children: "Please sign in from the host app to book a facility." })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: submit, className: "space-y-5", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm text-white/80 mb-1.5", children: "Facility" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "relative", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select", { className: "w-full rounded-lg bg-emerald-950/40 border border-white/20 p-2.5\\r\\n                         text-white focus:outline-none focus:ring-2 focus:ring-emerald-400\\r\\n                         focus:border-emerald-400 appearance-none", value: form.facility, onChange: (e) => update("facility", e.target.value), children: facilities.map((f) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: f, className: "bg-emerald-900", children: f }, f))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-white/60", children: "\\u25BE" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "grid sm:grid-cols-2 gap-5", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm text-white/80 mb-1.5", children: "Date" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", className: "w-full rounded-lg bg-emerald-950/40 border border-white/20 p-2.5\\r\\n                         text-white placeholder-white/40 focus:outline-none focus:ring-2\\r\\n                         focus:ring-emerald-400 focus:border-emerald-400", value: form.date, min: MIN_DATE_ALLOW_TODAY, onChange: (e) => {\n                                            const v = e.target.value;\n                                            const min = MIN_DATE_ALLOW_TODAY;\n                                            update("date", v && v < min ? min : v);\n                                        }, required: true })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm text-white/80 mb-1.5", children: "Time Slot" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "relative", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("select", { className: "w-full rounded-lg bg-emerald-950/40 border border-white/20 p-2.5\\r\\n                           text-white focus:outline-none focus:ring-2 focus:ring-emerald-400\\r\\n                           focus:border-emerald-400 appearance-none", value: form.slot, onChange: (e) => update("slot", e.target.value), children: defaultSlots.map((s) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: s, className: "bg-emerald-900", children: s }, s))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3 text-white/60", children: "\\u25BE" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "block text-sm text-white/80 mb-1.5", children: "Notes" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { rows: 3, className: "w-full rounded-lg bg-emerald-950/40 border border-white/20 p-2.5\\r\\n                       text-white placeholder-white/40\\r\\n                       focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400", value: form.notes, onChange: (e) => update("notes", e.target.value), placeholder: "Agenda, special requests\\u2026" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "flex items-center gap-3", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", disabled: disabled || submitting, className: "inline-flex items-center gap-2 cursor-pointer rounded-xl bg-emerald-500 hover:bg-emerald-400 px-5 py-2.5 font-semibold\\r\\n                       text-emerald-950 transition disabled:opacity-50", children: submitting ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "h-5 w-5 animate-spin rounded-full border-2 border-emerald-900/40 border-t-emerald-900", "aria-hidden": "true" }), "Booking\\u2026"] })) : ("Book Facility") }), disabled && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "text-sm text-white/60", children: "Please fill required fields" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pointer-events-none fixed bottom-6 right-6 z-50", "aria-live": "polite", "aria-atomic": "true", children: toast && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `pointer-events-auto flex justify-center flex-row items-start gap-3 rounded-xl border px-4 py-3 shadow-xl backdrop-blur\r\n              ${toast.type === "success"\n                        ? "bg-emerald-900/70 border-emerald-500/30 text-emerald-100"\n                        : "bg-rose-900/70 border-rose-500/30 text-rose-100"}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "", children: toast.type === "success" ? "âœ…" : "âš ï¸" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "text-sm font-medium mt-0.5", children: toast.msg }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setToast(null), className: "ml-2 rounded-lg px-2 py-0.5 text-xs text-white/70 hover:text-white", "aria-label": "Dismiss notification", children: "Close" })] })) })] }));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BookingForm);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkxLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzRjtBQUNyRDtBQUNLO0FBQ3RDLFlBQVksY0FBYyxvQkFBb0I7QUFDa0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSx1QkFBdUIsVUFBVTtBQUNqQyxpQkFBaUIsdURBQVU7QUFDM0IsNEJBQTRCLCtDQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHdDQUF3QywrQ0FBUTtBQUNoRCw4QkFBOEIsK0NBQVE7QUFDdEM7QUFDQTtBQUNBLDBCQUEwQixrQkFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdCQUFnQixHQUFHLHNCQUFzQixHQUFHLGlCQUFpQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxRUFBYztBQUN0QyxxQkFBcUIscUVBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkVBQTZFO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGtEQUFrRDtBQUNqRjtBQUNBO0FBQ0EsdUJBQXVCLCtDQUErQztBQUN0RTtBQUNBO0FBQ0EsOEJBQThCLGlCQUFpQjtBQUMvQyx1QkFBdUIsdUVBQXVFO0FBQzlGO0FBQ0E7QUFDQSx1QkFBdUIsK0RBQStEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQUssVUFBVSxtQ0FBbUMsc0RBQUksU0FBUyw2RUFBNkUsYUFBYSxzREFBSSxRQUFRLG9JQUFvSSxJQUFJLHVEQUFLLFdBQVcscURBQXFELHVEQUFLLFVBQVUsV0FBVyxzREFBSSxZQUFZLHVFQUF1RSxHQUFHLHVEQUFLLFVBQVUsa0NBQWtDLHNEQUFJLGFBQWEsOFZBQThWLHNEQUFJLGFBQWEsb0RBQW9ELFFBQVEsR0FBRyxzREFBSSxXQUFXLHNIQUFzSCxJQUFJLElBQUksR0FBRyx1REFBSyxVQUFVLG1EQUFtRCx1REFBSyxVQUFVLFdBQVcsc0RBQUksWUFBWSxtRUFBbUUsR0FBRyxzREFBSSxZQUFZO0FBQ3B6QztBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsa0JBQWtCLElBQUksR0FBRyx1REFBSyxVQUFVLFdBQVcsc0RBQUksWUFBWSx3RUFBd0UsR0FBRyx1REFBSyxVQUFVLGtDQUFrQyxzREFBSSxhQUFhLDRWQUE0VixzREFBSSxhQUFhLG9EQUFvRCxRQUFRLEdBQUcsc0RBQUksV0FBVyxzSEFBc0gsSUFBSSxJQUFJLElBQUksR0FBRyx1REFBSyxVQUFVLFdBQVcsc0RBQUksWUFBWSxvRUFBb0UsR0FBRyxzREFBSSxlQUFlLGdYQUFnWCxJQUFJLEdBQUcsdURBQUssVUFBVSxpREFBaUQsc0RBQUksYUFBYSx5UkFBeVIsdURBQUssQ0FBQyx1REFBUyxJQUFJLFdBQVcsc0RBQUksV0FBVywySEFBMkgscUJBQXFCLHdCQUF3QixlQUFlLHNEQUFJLFdBQVcsNkVBQTZFLElBQUksSUFBSSxHQUFHLHNEQUFJLFVBQVUsZ0lBQWdJLHVEQUFLLFVBQVU7QUFDdG9FLGdCQUFnQjtBQUNoQjtBQUNBLDRFQUE0RSxjQUFjLHNEQUFJLFVBQVUsZ0VBQWdFLEdBQUcsc0RBQUksVUFBVSw4REFBOEQsR0FBRyxzREFBSSxhQUFhLHlLQUF5SyxJQUFJLElBQUksSUFBSTtBQUNoYztBQUNBLGlFQUFlLFdBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Jvb2tpbmdBcHAvLi9zcmMvYm9va2luZy9Cb29raW5nRm9ybS50c3g/OTA2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHVzZVNlc3Npb24gZnJvbSBcIi4vdXNlU2Vzc2lvblwiO1xuLy8gaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tIFwicmVhY3QtcmVkdXhcIjsgLy8g4p2MIHVudXNlZFxuaW1wb3J0IHsgdXNlQXBwRGlzcGF0Y2gsIHVzZUFwcFNlbGVjdG9yIH0gZnJvbSBcIi4uL3N0b3JlL2hvb2tzXCI7XG5jb25zdCBmYWNpbGl0aWVzID0gW1wiQ29uZmVyZW5jZSBSb29tIEFcIiwgXCJDb25mZXJlbmNlIFJvb20gQlwiLCBcIkF1ZGl0b3JpdW1cIiwgXCJDYWZldGVyaWFcIl07XG5jb25zdCBkZWZhdWx0U2xvdHMgPSBbXCIwOTowMOKAkzEwOjAwXCIsIFwiMTA6MDDigJMxMTowMFwiLCBcIjExOjAw4oCTMTI6MDBcIiwgXCIxNDowMOKAkzE1OjAwXCIsIFwiMTU6MDDigJMxNjowMFwiXTtcbi8vIFwiMjAyNS0wOS0yN1wiIC0+IGxvY2FsIFlZWVktTU0tREQgb2Ygbm93XG5mdW5jdGlvbiBsb2NhbFlNRChkID0gbmV3IERhdGUoKSkge1xuICAgIGNvbnN0IHkgPSBkLmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgbSA9IFN0cmluZyhkLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKGQuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgcmV0dXJuIGAke3l9LSR7bX0tJHtkYXl9YDtcbn1cbi8vIFwiMDk6MDDigJMxMDowMFwiIG9yIFwiMDk6MDAtMTA6MDBcIiAtPiBtaW51dGVzIHNpbmNlIG1pZG5pZ2h0IGZvciB0aGUgU1RBUlRcbmZ1bmN0aW9uIHNsb3RTdGFydE1pbnV0ZXMoc2xvdCkge1xuICAgIGNvbnN0IFtzdGFydF0gPSBzbG90LnNwbGl0KC/igJN8LS8pOyAvLyBlbi1kYXNoIG9yIGh5cGhlblxuICAgIGNvbnN0IFtoLCBtXSA9IHN0YXJ0LnNwbGl0KFwiOlwiKS5tYXAoTnVtYmVyKTtcbiAgICByZXR1cm4gaCAqIDYwICsgKG0gfHwgMCk7XG59XG4vLyBSZXR1cm4gdHJ1ZSBpZiBjaG9zZW4gc2xvdCBpcyBpbiB0aGUgcGFzdCBmb3IgdG9kYXkncyBkYXRlXG5mdW5jdGlvbiBpc1Bhc3RTbG90Rm9yVG9kYXkoZGF0ZVN0ciwgc2xvdCkge1xuICAgIGlmIChkYXRlU3RyICE9PSBsb2NhbFlNRCgpKVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgY2FyZSBhYm91dCB0b2RheVxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3Qgbm93TWluID0gbm93LmdldEhvdXJzKCkgKiA2MCArIG5vdy5nZXRNaW51dGVzKCk7XG4gICAgcmV0dXJuIHNsb3RTdGFydE1pbnV0ZXMoc2xvdCkgPD0gbm93TWluOyAvLyBibG9jayBzbG90IHRoYXQgYWxyZWFkeSBzdGFydGVkXG59XG5jb25zdCBCb29raW5nRm9ybSA9ICh7IG9uQ3JlYXRlIH0pID0+IHtcbiAgICBjb25zdCB1c2VyID0gdXNlU2Vzc2lvbigpO1xuICAgIGNvbnN0IFtmb3JtLCBzZXRGb3JtXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgZmFjaWxpdHk6IGZhY2lsaXRpZXNbMF0sXG4gICAgICAgIGRhdGU6IFwiXCIsXG4gICAgICAgIHNsb3Q6IGRlZmF1bHRTbG90c1swXSxcbiAgICAgICAgbm90ZXM6IFwiXCIsXG4gICAgfSk7XG4gICAgY29uc3QgW3N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFt0b2FzdCwgc2V0VG9hc3RdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgZGlzYWJsZWQgPSAhdXNlcjtcbiAgICBmdW5jdGlvbiB1cGRhdGUoa2V5LCB2YWwpIHtcbiAgICAgICAgc2V0Rm9ybSgoZikgPT4gKHsgLi4uZiwgW2tleV06IHZhbCB9KSk7XG4gICAgfVxuICAgIC8vIHV0aWxzXG4gICAgY29uc3QgcGFkID0gKG4pID0+IFN0cmluZyhuKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gICAgY29uc3QgdG9JbnB1dERhdGUgPSAoZCkgPT4gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke3BhZChkLmdldE1vbnRoKCkgKyAxKX0tJHtwYWQoZC5nZXREYXRlKCkpfWA7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgdG9kYXkuZ2V0RGF0ZSgpICsgMSk7XG4gICAgY29uc3QgTUlOX0RBVEVfQUxMT1dfVE9EQVkgPSB0b0lucHV0RGF0ZSh0b2RheSk7XG4gICAgY29uc3QgTUlOX0RBVEVfQUZURVJfVE9EQVkgPSB0b0lucHV0RGF0ZSh0b21vcnJvdyk7XG4gICAgY29uc3QgYWxsQm9va2luZ3MgPSB1c2VBcHBTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmJvb2tpbmdzLmFsbCk7XG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VBcHBEaXNwYXRjaCgpO1xuICAgIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGRpc2FibGVkIHx8IHN1Ym1pdHRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChpc1Bhc3RTbG90Rm9yVG9kYXkoZm9ybS5kYXRlLCBmb3JtLnNsb3QpKSB7XG4gICAgICAgICAgICBzZXRUb2FzdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgIG1zZzogXCJQbGVhc2UgY2hvb3NlIGEgZnV0dXJlIHRpbWUgc2xvdCBmb3IgdG9kYXkuXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3QobnVsbCksIDIwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIPCfmqggY29uZmxpY3QgZGV0ZWN0aW9uXG4gICAgICAgIGNvbnN0IGNvbmZsaWN0ID0gYWxsQm9va2luZ3Muc29tZSgoYikgPT4gYi5kYXRlID09PSBmb3JtLmRhdGUgJiYgYi5zbG90ID09PSBmb3JtLnNsb3QgJiYgYi5zdGF0dXMgIT09IFwiQ2FuY2VsbGVkXCIpO1xuICAgICAgICBpZiAoY29uZmxpY3QpIHtcbiAgICAgICAgICAgIHNldFRvYXN0KHsgdHlwZTogXCJlcnJvclwiLCBtc2c6IFwiQSBib29raW5nIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIGRhdGUgYW5kIHRpbWUgc2xvdC5cIiB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3QobnVsbCksIDIwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFN1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgICAgIHNldFRvYXN0KG51bGwpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYm9va2luZyA9IHtcbiAgICAgICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgICAgICBmYWNpbGl0eTogZm9ybS5mYWNpbGl0eSxcbiAgICAgICAgICAgICAgICBkYXRlOiBmb3JtLmRhdGUsXG4gICAgICAgICAgICAgICAgc2xvdDogZm9ybS5zbG90LFxuICAgICAgICAgICAgICAgIG5vdGVzOiBmb3JtLm5vdGVzIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwiUGVuZGluZ1wiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIgPyB7IGlkOiB1c2VyLmlkLCBuYW1lOiB1c2VyLm5hbWUsIGVtYWlsOiB1c2VyLmVtYWlsIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcImJvb2tpbmdzL2FkZEJvb2tpbmdcIiwgcGF5bG9hZDogYm9va2luZyB9KTtcbiAgICAgICAgICAgIG9uQ3JlYXRlPy4oYm9va2luZyk7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocikgPT4gc2V0VGltZW91dChyLCA3MDApKTtcbiAgICAgICAgICAgIHNldEZvcm0oKGYpID0+ICh7IC4uLmYsIG5vdGVzOiBcIlwiIH0pKTtcbiAgICAgICAgICAgIHNldFRvYXN0KHsgdHlwZTogXCJzdWNjZXNzXCIsIG1zZzogXCJZb3VyIGJvb2tpbmcgaGFzIGJlZW4gc3VibWl0dGVkIHN1Y2Nlc3NmdWxseS5cIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZXRUb2FzdCh7IHR5cGU6IFwiZXJyb3JcIiwgbXNnOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLlwiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0U3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFRvYXN0KG51bGwpLCAyMDAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNwYWNlLXktNVwiLCBjaGlsZHJlbjogW19qc3goXCJoMlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZVwiLCBjaGlsZHJlbjogXCJDcmVhdGUgYSBCb29raW5nXCIgfSksICF1c2VyICYmIChfanN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJyb3VuZGVkLWxnIGJnLWFtYmVyLTUwMC8xMCB0ZXh0LWFtYmVyLTIwMCBweC0zIHB5LTJcIiwgY2hpbGRyZW46IFwiUGxlYXNlIHNpZ24gaW4gZnJvbSB0aGUgaG9zdCBhcHAgdG8gYm9vayBhIGZhY2lsaXR5LlwiIH0pKSwgX2pzeHMoXCJmb3JtXCIsIHsgb25TdWJtaXQ6IHN1Ym1pdCwgY2xhc3NOYW1lOiBcInNwYWNlLXktNVwiLCBjaGlsZHJlbjogW19qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiYmxvY2sgdGV4dC1zbSB0ZXh0LXdoaXRlLzgwIG1iLTEuNVwiLCBjaGlsZHJlbjogXCJGYWNpbGl0eVwiIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyZWxhdGl2ZVwiLCBjaGlsZHJlbjogW19qc3goXCJzZWxlY3RcIiwgeyBjbGFzc05hbWU6IFwidy1mdWxsIHJvdW5kZWQtbGcgYmctZW1lcmFsZC05NTAvNDAgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLTIuNVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1lbWVyYWxkLTQwMFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czpib3JkZXItZW1lcmFsZC00MDAgYXBwZWFyYW5jZS1ub25lXCIsIHZhbHVlOiBmb3JtLmZhY2lsaXR5LCBvbkNoYW5nZTogKGUpID0+IHVwZGF0ZShcImZhY2lsaXR5XCIsIGUudGFyZ2V0LnZhbHVlKSwgY2hpbGRyZW46IGZhY2lsaXRpZXMubWFwKChmKSA9PiAoX2pzeChcIm9wdGlvblwiLCB7IHZhbHVlOiBmLCBjbGFzc05hbWU6IFwiYmctZW1lcmFsZC05MDBcIiwgY2hpbGRyZW46IGYgfSwgZikpKSB9KSwgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC15LTAgcmlnaHQtMCBmbGV4IGl0ZW1zLWNlbnRlciBwci0zIHRleHQtd2hpdGUvNjBcIiwgY2hpbGRyZW46IFwiXFx1MjVCRVwiIH0pXSB9KV0gfSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImdyaWQgc206Z3JpZC1jb2xzLTIgZ2FwLTVcIiwgY2hpbGRyZW46IFtfanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcImJsb2NrIHRleHQtc20gdGV4dC13aGl0ZS84MCBtYi0xLjVcIiwgY2hpbGRyZW46IFwiRGF0ZVwiIH0pLCBfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImRhdGVcIiwgY2xhc3NOYW1lOiBcInctZnVsbCByb3VuZGVkLWxnIGJnLWVtZXJhbGQtOTUwLzQwIGJvcmRlciBib3JkZXItd2hpdGUvMjAgcC0yLjVcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci13aGl0ZS80MCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOnJpbmctZW1lcmFsZC00MDAgZm9jdXM6Ym9yZGVyLWVtZXJhbGQtNDAwXCIsIHZhbHVlOiBmb3JtLmRhdGUsIG1pbjogTUlOX0RBVEVfQUxMT1dfVE9EQVksIG9uQ2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1JTl9EQVRFX0FMTE9XX1RPREFZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoXCJkYXRlXCIsIHYgJiYgdiA8IG1pbiA/IG1pbiA6IHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlcXVpcmVkOiB0cnVlIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJibG9jayB0ZXh0LXNtIHRleHQtd2hpdGUvODAgbWItMS41XCIsIGNoaWxkcmVuOiBcIlRpbWUgU2xvdFwiIH0pLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyZWxhdGl2ZVwiLCBjaGlsZHJlbjogW19qc3goXCJzZWxlY3RcIiwgeyBjbGFzc05hbWU6IFwidy1mdWxsIHJvdW5kZWQtbGcgYmctZW1lcmFsZC05NTAvNDAgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBwLTIuNVxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtd2hpdGUgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWVtZXJhbGQtNDAwXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6Ym9yZGVyLWVtZXJhbGQtNDAwIGFwcGVhcmFuY2Utbm9uZVwiLCB2YWx1ZTogZm9ybS5zbG90LCBvbkNoYW5nZTogKGUpID0+IHVwZGF0ZShcInNsb3RcIiwgZS50YXJnZXQudmFsdWUpLCBjaGlsZHJlbjogZGVmYXVsdFNsb3RzLm1hcCgocykgPT4gKF9qc3goXCJvcHRpb25cIiwgeyB2YWx1ZTogcywgY2xhc3NOYW1lOiBcImJnLWVtZXJhbGQtOTAwXCIsIGNoaWxkcmVuOiBzIH0sIHMpKSkgfSksIF9qc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQteS0wIHJpZ2h0LTAgZmxleCBpdGVtcy1jZW50ZXIgcHItMyB0ZXh0LXdoaXRlLzYwXCIsIGNoaWxkcmVuOiBcIlxcdTI1QkVcIiB9KV0gfSldIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJibG9jayB0ZXh0LXNtIHRleHQtd2hpdGUvODAgbWItMS41XCIsIGNoaWxkcmVuOiBcIk5vdGVzXCIgfSksIF9qc3goXCJ0ZXh0YXJlYVwiLCB7IHJvd3M6IDMsIGNsYXNzTmFtZTogXCJ3LWZ1bGwgcm91bmRlZC1sZyBiZy1lbWVyYWxkLTk1MC80MCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHAtMi41XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLXdoaXRlLzQwXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZW1lcmFsZC00MDAgZm9jdXM6Ym9yZGVyLWVtZXJhbGQtNDAwXCIsIHZhbHVlOiBmb3JtLm5vdGVzLCBvbkNoYW5nZTogKGUpID0+IHVwZGF0ZShcIm5vdGVzXCIsIGUudGFyZ2V0LnZhbHVlKSwgcGxhY2Vob2xkZXI6IFwiQWdlbmRhLCBzcGVjaWFsIHJlcXVlc3RzXFx1MjAyNlwiIH0pXSB9KSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIiwgY2hpbGRyZW46IFtfanN4KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJzdWJtaXRcIiwgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IHN1Ym1pdHRpbmcsIGNsYXNzTmFtZTogXCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC14bCBiZy1lbWVyYWxkLTUwMCBob3ZlcjpiZy1lbWVyYWxkLTQwMCBweC01IHB5LTIuNSBmb250LXNlbWlib2xkXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWVtZXJhbGQtOTUwIHRyYW5zaXRpb24gZGlzYWJsZWQ6b3BhY2l0eS01MFwiLCBjaGlsZHJlbjogc3VibWl0dGluZyA/IChfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJoLTUgdy01IGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWVtZXJhbGQtOTAwLzQwIGJvcmRlci10LWVtZXJhbGQtOTAwXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSksIFwiQm9va2luZ1xcdTIwMjZcIl0gfSkpIDogKFwiQm9vayBGYWNpbGl0eVwiKSB9KSwgZGlzYWJsZWQgJiYgX2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zbSB0ZXh0LXdoaXRlLzYwXCIsIGNoaWxkcmVuOiBcIlBsZWFzZSBmaWxsIHJlcXVpcmVkIGZpZWxkc1wiIH0pXSB9KV0gfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicG9pbnRlci1ldmVudHMtbm9uZSBmaXhlZCBib3R0b20tNiByaWdodC02IHotNTBcIiwgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIiwgXCJhcmlhLWF0b21pY1wiOiBcInRydWVcIiwgY2hpbGRyZW46IHRvYXN0ICYmIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogYHBvaW50ZXItZXZlbnRzLWF1dG8gZmxleCBqdXN0aWZ5LWNlbnRlciBmbGV4LXJvdyBpdGVtcy1zdGFydCBnYXAtMyByb3VuZGVkLXhsIGJvcmRlciBweC00IHB5LTMgc2hhZG93LXhsIGJhY2tkcm9wLWJsdXJcclxuICAgICAgICAgICAgICAke3RvYXN0LnR5cGUgPT09IFwic3VjY2Vzc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZW1lcmFsZC05MDAvNzAgYm9yZGVyLWVtZXJhbGQtNTAwLzMwIHRleHQtZW1lcmFsZC0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLXJvc2UtOTAwLzcwIGJvcmRlci1yb3NlLTUwMC8zMCB0ZXh0LXJvc2UtMTAwXCJ9YCwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIlwiLCBjaGlsZHJlbjogdG9hc3QudHlwZSA9PT0gXCJzdWNjZXNzXCIgPyBcIuKchVwiIDogXCLimqDvuI9cIiB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIG10LTAuNVwiLCBjaGlsZHJlbjogdG9hc3QubXNnIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogKCkgPT4gc2V0VG9hc3QobnVsbCksIGNsYXNzTmFtZTogXCJtbC0yIHJvdW5kZWQtbGcgcHgtMiBweS0wLjUgdGV4dC14cyB0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIiwgXCJhcmlhLWxhYmVsXCI6IFwiRGlzbWlzcyBub3RpZmljYXRpb25cIiwgY2hpbGRyZW46IFwiQ2xvc2VcIiB9KV0gfSkpIH0pXSB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQm9va2luZ0Zvcm07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///791\n\n}')},860:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addBooking: () => (/* binding */ addBooking),\n/* harmony export */   bookingsReducer: () => (/* binding */ bookingsReducer),\n/* harmony export */   cancelBooking: () => (/* binding */ cancelBooking),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   makeSelectVisibleBookings: () => (/* binding */ makeSelectVisibleBookings),\n/* harmony export */   selectAllBookings: () => (/* binding */ selectAllBookings),\n/* harmony export */   selectBookingsCount: () => (/* binding */ selectBookingsCount),\n/* harmony export */   updateBookingStatus: () => (/* binding */ updateBookingStatus)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(468);\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);\n\nconst seed = [\n// (optional) keep your existing demo rows here\n];\nconst initialState = { all: seed };\nconst bookingsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    name: "bookings",\n    initialState,\n    reducers: {\n        addBooking: (state, action) => {\n            state.all.unshift(action.payload);\n        },\n        cancelBooking: (state, action) => {\n            const booking = state.all.find((b) => b.id === action.payload);\n            if (booking)\n                booking.status = "Cancelled";\n        },\n        updateBookingStatus: (state, action) => {\n            const booking = state.all.find((b) => b.id === action.payload.id);\n            if (booking)\n                booking.status = action.payload.status;\n        },\n    }\n});\nconst { addBooking, cancelBooking, updateBookingStatus } = bookingsSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (bookingsSlice.reducer);\nconst bookingsReducer = bookingsSlice.reducer;\n// Selectors\nconst selectAllBookings = (s) => s.bookings.all;\nconst makeSelectVisibleBookings = (user) => {\n    return (s) => {\n        const rows = s.bookings.all;\n        if (!user)\n            return rows;\n        return user.role === "Admin" ? rows : rows.filter(r => r.user?.id === user.id);\n    };\n};\nconst selectBookingsCount = (s) => s.bookings.all.length;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODYwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLHNCQUFzQiw2REFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsQ0FBQztBQUNNLFFBQVEsaURBQWlEO0FBQ2hFLGlFQUFlLHFCQUFxQixFQUFDO0FBQzlCO0FBQ1A7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyIsInNvdXJjZXMiOlsid2VicGFjazovL2Jvb2tpbmdBcHAvLi9zcmMvc3RvcmUvYm9va2luZ3NTbGljZS50cz82ZjhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNsaWNlIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcbmNvbnN0IHNlZWQgPSBbXG4vLyAob3B0aW9uYWwpIGtlZXAgeW91ciBleGlzdGluZyBkZW1vIHJvd3MgaGVyZVxuXTtcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHsgYWxsOiBzZWVkIH07XG5jb25zdCBib29raW5nc1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICAgIG5hbWU6IFwiYm9va2luZ3NcIixcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgcmVkdWNlcnM6IHtcbiAgICAgICAgYWRkQm9va2luZzogKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFsbC51bnNoaWZ0KGFjdGlvbi5wYXlsb2FkKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsQm9va2luZzogKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvb2tpbmcgPSBzdGF0ZS5hbGwuZmluZCgoYikgPT4gYi5pZCA9PT0gYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgaWYgKGJvb2tpbmcpXG4gICAgICAgICAgICAgICAgYm9va2luZy5zdGF0dXMgPSBcIkNhbmNlbGxlZFwiO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVCb29raW5nU3RhdHVzOiAoc3RhdGUsIGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9va2luZyA9IHN0YXRlLmFsbC5maW5kKChiKSA9PiBiLmlkID09PSBhY3Rpb24ucGF5bG9hZC5pZCk7XG4gICAgICAgICAgICBpZiAoYm9va2luZylcbiAgICAgICAgICAgICAgICBib29raW5nLnN0YXR1cyA9IGFjdGlvbi5wYXlsb2FkLnN0YXR1cztcbiAgICAgICAgfSxcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCB7IGFkZEJvb2tpbmcsIGNhbmNlbEJvb2tpbmcsIHVwZGF0ZUJvb2tpbmdTdGF0dXMgfSA9IGJvb2tpbmdzU2xpY2UuYWN0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGJvb2tpbmdzU2xpY2UucmVkdWNlcjtcbmV4cG9ydCBjb25zdCBib29raW5nc1JlZHVjZXIgPSBib29raW5nc1NsaWNlLnJlZHVjZXI7XG4vLyBTZWxlY3RvcnNcbmV4cG9ydCBjb25zdCBzZWxlY3RBbGxCb29raW5ncyA9IChzKSA9PiBzLmJvb2tpbmdzLmFsbDtcbmV4cG9ydCBjb25zdCBtYWtlU2VsZWN0VmlzaWJsZUJvb2tpbmdzID0gKHVzZXIpID0+IHtcbiAgICByZXR1cm4gKHMpID0+IHtcbiAgICAgICAgY29uc3Qgcm93cyA9IHMuYm9va2luZ3MuYWxsO1xuICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICByZXR1cm4gcm93cztcbiAgICAgICAgcmV0dXJuIHVzZXIucm9sZSA9PT0gXCJBZG1pblwiID8gcm93cyA6IHJvd3MuZmlsdGVyKHIgPT4gci51c2VyPy5pZCA9PT0gdXNlci5pZCk7XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3Qgc2VsZWN0Qm9va2luZ3NDb3VudCA9IChzKSA9PiBzLmJvb2tpbmdzLmFsbC5sZW5ndGg7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///860\n\n}')}}]);